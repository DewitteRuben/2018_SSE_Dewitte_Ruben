!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=16)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(){u.getItem(a.CARDSETS).then(function(e){if(!e)return console.log("Cardsets storage doesn't exist, creating new storage space..."),u.setItem(a.CARDSETS,new Map)}).then(function(){u.getItem(a.HIGHSCORES).then(function(e){if(!e)return console.log("Highscores storage spaces doesn't exist, creating storage space..."),u.setItem(a.HIGHSCORES,[])})}).catch(function(e){throw Error("Failed to initialize cardset storage space")})},t.setHighscoresArr=function(e){return u.setItem(a.HIGHSCORES,e)},t.pGetAllCardsets=d,t.pUpdateCardset=l,t.pRenameCardset=function(e,t){return d().then(function(e,t){return function(n){if(!t.isValid())throw Error(c.INVALID_NAME_CATEGORY);var r=n.get(e);return n.delete(e),n.set(t.name,r),n.forEach(function(n){n.name===e&&(n.name=t.name,n.category=t.category,n.cards.forEach(function(e){e.id=t.name+"-"+e.id.split("-")[1]}))}),n}}(e,t)).then(function(e){return f(e)}).then(function(t){return Promise.resolve("Successfully edited the cardset ".concat(e,"!"))}).catch(function(t){throw console.error(t),Error("Failed to update name and category of the cardset ".concat(e))})},t.pAddHighscore=function(e){return u.getItem(a.HIGHSCORES).then(function(t){if(!t)throw Error("There is no highscore object in the database!");return t.push(e),t}).then(function(e){return u.setItem(a.HIGHSCORES,e)}).then(function(){return Promise.resolve("Successfully added highscore entry!")})},t.rebuildHighscores=h,t.pGetAllHighscores=function(){return u.getItem(a.HIGHSCORES).then(function(e){return h(e)}).catch(function(e){throw Error("Failed to get all highscores!")})},t.pSetCardsetMap=f,t.pAddUpdateCardset=p,t.pAddCardset=function(e){return d().then(function(t){if(!e.isValid())throw Error(c.INVALID_CARDSET);var n,i,s=t.values(),a=!0,o=!1,u=void 0;try{for(var d,l=s[Symbol.iterator]();!(a=(d=l.next()).done);a=!0){var h=d.value;if(n=h,i=e,(0,r.isEqualToCaseInsensitive)(n.name,i.name))throw Error(c.CARDSET_ALREADY_EXISTS)}}catch(e){o=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw u}}return e}).then(function(e){return p(e)})},t.pDeleteCardFromCardset=function(e){return m(e.split("-")[0]).then(function(t){return t.cards=t.cards.filter(function(t){return t.id!==e}),t}).then(function(e){return p(e)}).catch(function(e){throw Error(c.DELETE_CARD_FROM_CARDSET_FAIL)})},t.pDeleteCardset=function(e){return d().then(function(t){return t.delete(e),u.setItem(a.CARDSETS,t),t})},t.pAddCardToCardset=function(e,t){return m(t).then(function(t){if(!e.isValid())throw Error(c.INVALID_CARD_DETAILS);return e.id=t.name+"-"+t.cards.length,t.addCard(e),t}).then(function(e){return p(e)}).then(function(){return Promise.resolve("Sucessfully added card to the ".concat(t," cardset!"))})},t.pUpdateCard=function(e){if(!e.id)throw Error("Card does not have an ID set!");return m(e.id.split("-")[0]).then(function(t){return t.cards=t.cards.filter(function(t){return t.id!==e.id}),t.cards.push(e),t}).then(function(e){return l(e)}).then(function(){return Promise.resolve("Successfully updated the card ".concat(e.title,"!"))}).catch(function(e){throw Error("Failed to update card!")})},t.pGetCardByID=function(e){return m(e.split("-")[0]).then(function(t){return t.cards.filter(function(t){return t.id===e})[0]}).catch(function(e){throw Error(c.GET_CARD_BY_ID_FAIL)})},t.pGetCardset=m,t.postData=function(e){return fetch(e,{headers:{"content-type":"application/x-www-form-urlencoded"},method:"POST"}).then(function(e){return e.json()})},t.pFileReader=function(e){var t=this;return new Promise(function(n,r){var i=new FileReader;i.onload=function(t){e.data=t.target.result,n(e)},i.onerror=function(){return r(t)},/^image/.test(e.type)?i.readAsDataURL(e):i.readAsText(e)})},t.storageSavePicture=function(e){try{localStorage.setItem(o.PICTURE,JSON.stringify(e))}catch(e){if(1014===e.code||22===e.code)throw Error("File size too big, please upload a smaller file!");throw Error("Failed to upload file, please try again!")}},t.storageGetLoadedPicture=function(){try{return JSON.parse(localStorage.getItem(o.PICTURE))}catch(e){throw new Error("Failed to get picture!")}},t.storageClearPictureData=function(){try{localStorage.removeItem(o.PICTURE)}catch(e){throw Error("Failed to remove the picture from storage!")}},t.startCurrentGame=function(e){return m(e.toString()).then(function(t){if(0===t.cards.length)throw Error("Cardset ".concat(e," has no cards!"));return e}).then(function(t){return u.setItem(o.GAME,e.toString())})},t.getCurrentGame=function(){return u.getItem(o.GAME)},t.getCurrentCard=function(){return u.getItem(o.CARD)},t.getSettings=function(){return window.localStorage?JSON.parse(localStorage.getItem(o.SETTINGS)):null},t.saveSettings=function(e){window.localStorage?(localStorage.setItem(o.SETTINGS,JSON.stringify(e)),(0,i.showToast)("Successfully saved settings!","")):(0,i.showToast)("Settings are not supported by your browser!","")},t.setCurrentEditedCardset=function(e){sessionStorage.setItem(o.CURRENT_CARDSET,e)},t.KEYS=void 0;var r=n(2),i=n(1),s=n(3),a={STORE:"cardStorage",CARDSETS:"cardSets",HIGHSCORES:"highscores"},o={PICTURE:"cardPicture",GAME:"currentGame",CARD:"editCard",SETTINGS:"settings",USERNAME:"username",CURRENT_CARDSET:"currentCardset"};t.KEYS=o;var c={INVALID_NAME_CATEGORY:"Please enter a valid name and category!",INVALID_CARDSET:"The cardset name or category is not valid!",INVALID_CARD_DETAILS:"The card details are not valid!",CARDSET_ALREADY_EXISTS:"A cardset with the same name already exists!",CARD_DB_FAIL:"Failed to get card from the database!",CARD_ADD_FAIL:"Failed to add card to cardset!",CARDSET_ADD_FAIL:"Failed to add cardset to the database!",DELETE_CARD_FROM_CARDSET_FAIL:"Failed to delete card from the cardset!",STORE_SETTINGS:"Failed to store settings!",LOAD_SETTINGS:"Failed to load settings from the database!",GET_CARD_BY_ID_FAIL:"Failed to get card by ID!"},u=localforage.createInstance({name:a.STORE});function d(){return u.getItem(a.CARDSETS).then(function(e){return e?(e.forEach((t=e,function(e,n){var r=Object.assign(new s.CardSet,e);r.cards=r.cards.map(function(e){return Object.assign(new s.Card,e)}),t.set(n,r)})),e):new Map;var t})}function l(e){return d().then(function(t){return t.set(e.name,e),t}).then(function(e){return f(e)}).then(function(t){return Promise.resolve("Successfully updated the cardset ".concat(e.name,"!"))}).catch(function(t){throw console.error(t),Error("Failed to update the cardset ".concat(e.name,"!"))})}function h(e){return e.map(function(e){return Object.assign(new s.Highscore,e)})}function f(e){return u.setItem(a.CARDSETS,e)}function p(e){return d().then(function(t){return t.set(e.name,e),u.setItem(a.CARDSETS,t)}).then(function(){return Promise.resolve("Successfully added the ".concat(e.name," cardset!"))}).catch(function(e){throw console.log(e),Error(c.CARDSET_ADD_FAIL)})}function m(e){return d().then(function(t){return t.get(e)?t.get(e):null}).catch(function(e){throw Error(c.CARD_DB_FAIL)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadingSpinner=function(){return $('<div class="preloader-background">\n        <div class="preloader-wrapper active">\n            <div class="spinner-layer spinner-blue-only">\n                <div class="circle-clipper left">\n                    <div class="circle"></div>\n                </div>\n                <div class="gap-patch">\n                    <div class="circle"></div>\n                </div>\n                <div class="circle-clipper right">\n                    <div class="circle"></div>\n                </div>\n            </div>\n        </div>\n    </div>')},t.generateModal=function(e,t,n,r,i,a){(function(e,t,n,r){var i='<div id="'.concat(e,'" class="modal">\n                    <div class="modal-content">\n                        ').concat(t,'\n                    </div>\n                    <div class="modal-footer">\n                        <a href="#/" id="modal-').concat(e,"-").concat(n,'" class="modal-close waves-effect waves-green btn-flat btn1">').concat(n,'</a>\n                        <a href="#/" id="modal-').concat(e,"-").concat(r,'" class="modal-close waves-effect waves-green btn-flat btn2">').concat(r,"</a>\n                    </div>\n                </div>");$("body").append($(i))})(e,t,n,r),$("#modal-".concat(e,"-").concat(r)).on("click",i),$("#modal-".concat(e,"-").concat(n)).on("click",a);var o=$("#".concat(e));M.Modal.init(o[0],{onCloseEnd:s,preventScrolling:!0}),o.modal("open")},t.object2options=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+='<option value="'.concat(n,'">').concat(e[n],"</option>"));return t},t.updateGameCardLayout=function(e){var t=e.getCurrentCard();$(".card-name").text(t.title),$(".card-qa").text(e.isFront?t.question:t.answer),$(".card-side").text(e.isFront?r.FRONT:r.BACK),$(".gameCardsAnswered").text("Answered: ".concat(e.getAnsweredCards().length,"/").concat(e.cardset.cards.length)),$(".gameCardsCorrectlyAnswered").text("Correct: ".concat(e.getCorrectCards().length,"/").concat(e.cardset.cards.length)),$(".currentCard").text("".concat(e.currentCardIndex+1,"/").concat(e.cardset.cards.length)),function(e){var t=e.getCurrentCard(),n=$(".smiley");n.removeClass("faint-black").removeClass("green-text").removeClass("red-text");var r="faint-black",i="sentiment_neutral";e.hasBeenAnswered(t)&&e.hasBeenCorrectlyAnswered(t)?(i="sentiment_very_satisfied",r="green-text"):e.hasBeenAnswered(t)&&(i="sentiment_very_dissatisfied",r="red-text");n.text(i).addClass(r)}(e),a=e.hasBeenAnswered(t),$(".answerControls").find(".btn").each(function(){a?$(this).addClass("disabled"):$(this).removeClass("disabled")}),$("#game-type-answer").prop("disabled",a),function(e){var t=e.getCurrentCard();$(".card-play-image").remove();var n=$(".card-content .img-wrapper");t.image&&e.isFront&&n.append(function(e){return $('<img class="card-play-image responsive-img" src="'.concat(e.image?e.image.data:"",'" alt="').concat(e.title,'-image">'))}(t))}(e),n=t,s=$(".answerControls"),s.find(".control").addClass("hidden"),s.find(i[n.typeAnswer?"TA":n.type]).removeClass("hidden"),"MC"===n.type&&function(e){$(".radioAnswerButtons").html(function(e){var t="";return e.isMultipleChoice()&&e.answerChoices.forEach(function(e,n){t+='<label class="btn-block">\n                            <input value="'.concat(n,'" class="with-gap" name="radioAnswer" type="radio" />\n                            <span>').concat(e,"</span>\n                        </label>")}),t}(e))}(n);var n,s;var a},t.showToast=function(e,t){M.toast({html:e,classes:t})};var r={CHOOSE_CARDSET:"Choose a cardset",NO_CARDSETS:"No cardsets have been created yet!",FRONT:"FRONT",BACK:"BACK",OFFLINE:"Currently working offline!"};var i={SA:".singleAnswerControls",TF:".trueFalseControls",MC:".multipleChoiceControls",TA:".typeAnswerControls"};function s(){$(this)[0].$el.remove()}},function(e,t,n){"use strict";function r(e,t){return"string"==typeof e&&"string"==typeof t?e.toLowerCase()===t.toLowerCase():e===t}function i(e){return"string"==typeof e?e.toLowerCase():e}Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=function(e){if(null===e||void 0===e)return!0;if("string"==typeof e)return 0===$.trim(e).length;return!1},t.isEqualToCaseInsensitive=r,t.isInArrayLowerCase=function(e,t){return e.some(function(e){return r(e,t)})},t.removeDuplicatesArray=function(e){return function(e){var t=e.length;for(;t>0;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e}(e.map(i).reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]))},t.getUniqueValuesOfObjectsInMap=function(e,t){var n=[];return e.forEach(function(e){n.indexOf(e[t])<0&&n.push(e[t])}),n},t.scrollToBottom=function(){$("html,body").animate({scrollTop:document.body.scrollHeight},"fast")},t.cardsetNameComparator=function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0},t.validateSelect=function(){$("select[required]").css({display:"block",height:0,padding:0,width:0,position:"absolute"})},t.getSelectOptionByName=function(e){return $('select[name="'.concat(e,'"]')).find("option:selected").val()},t.isOnline=function(){return navigator.onLine},t.fDefault=function(e){return void e.preventDefault()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Card=c,t.Game=u,t.CardSet=d,t.Image=function(e,t){this.name=e,this.data=t},t.Highscore=l;var r=n(2),i=n(1),s=n(0),a=n(4),o={SA:"Single Answer",TF:"True or False",MC:"Multiple Choice"};function c(e,t,n,r){this.id=null,this.title=e,this.type=t,this.question=n,this.image=null,this.answer=r,this.guess=null,this.answerChoices=null,this.typeAnswer=!1}function u(e){this.cardset=e,this.currentCardIndex=0,this.isFront=!0,this.timeFinished=null}function d(e,t){this.name=e,this.category=t,this.cards=[]}function l(e,t,n,r){this.date=n,this.realTime=r,this.game=e}c.prototype.clearGuess=function(){this.guess=null},u.prototype.reset=function(){this.currentCardIndex=0,this.isFront=!0,this.timeFinished=null,this.cardset.cards.forEach(function(e){return e.clearGuess()})},u.prototype.nextCard=function(){this.cardset.cards.length>0&&(this.currentCardIndex+1<=this.cardset.cards.length-1?this.currentCardIndex++:this.currentCardIndex=0)},u.prototype.prevCard=function(){this.cardset.cards.length>0&&(this.currentCardIndex-1>=0?this.currentCardIndex--:this.currentCardIndex=this.cardset.cards.length-1)},u.prototype.answer=function(e){this.getCurrentCard().guess=e},u.prototype.isFinished=function(){return this.getAmountCards()===this.getAnsweredCards().length},u.prototype.getCorrectCards=function(){return this.getAnsweredCards().filter(function(e){return!0===e.isCorrectAnswer()})},u.prototype.getAmountCorrectAnswers=function(){return this.getCorrectCards().length},u.prototype.getAnswerAccuracy=function(){return Math.round(this.getCorrectCards().length/this.cardset.cards.length*100)},u.prototype.getAmountWrongAnswers=function(){return this.getAmountCards()-this.getAmountCorrectAnswers()},u.prototype.getAmountCards=function(){return this.cardset.cards.length},u.prototype.getAnsweredCards=function(){return this.cardset.cards.filter(function(e){return null!==e.guess})},u.prototype.hasBeenCorrectlyAnswered=function(e){return this.getCorrectCards().filter(function(t){return t.id===e.id}).length>0},u.prototype.hasBeenAnswered=function(e){return this.getAnsweredCards().filter(function(t){return t.id===e.id}).length>0},u.prototype.getCurrentCard=function(){return this.cardset.cards[this.currentCardIndex]},c.prototype.renderCompact=function(){return'<div id="'.concat(this.id,'" data-card="').concat(this.id,'" class="card">\n                <a href="#" class="faint-black delete-card-collection-item"><i class="delete material-icons">delete</i></a>\n                <a href="#/" class="faint-black edit-card-collection-item"><i class="edit material-icons">edit</i></a>\n                ').concat(this.image?'<a href="#" class="faint-black image-card-collection-item"><i class="photo material-icons">photo</i></a>':"",'\n                <div class="card-content">\n                    <span class="card-title compact-title">').concat(this.title,"</span>\n                    <p>Q: ").concat(this.question,'</p>\n                    <p class="answer">A: ').concat(this.answer,'</p>\n                    <p class="answers">').concat(this.isMultipleChoice()?'<p class="choices">'.concat(this.answerChoices.join(","),"</p>"):"",'</p>\n                    <p class="type">').concat(o[this.type],'</p>\n                    <p class="typing type keyboard">').concat(this.typeAnswer?'<i class="material-icons">keyboard</i>':"","</p>\n                </div>   \n            </div>")},c.prototype.render=function(){var e='<div id="'.concat(this.id,'" class="card">\n                               <a href="#/" class="faint-black delete-card-collection-item"><i class="delete material-icons">delete</i></a>\n                               <a href="#/" class="faint-black edit-card-collection-item"><i class="edit material-icons">edit</i></a>\n                               <div class="card-content">\n                                    <span class="card-title">').concat(this.title,"</span>");return this.image&&(e+='<div class="center">\n                                  <img class="responsive-img" src="'.concat(this.image.data,'" alt="card-image" title="card-image"">\n                           </div>')),e+="<p>Q: ".concat(this.question,'</p>\n                                </div>\n                                <div class="card-action">\n                                    <p class="answer">A: ').concat(this.answer,'</p>\n                                    <p class="answers">').concat(this.isMultipleChoice()?'<p class="choices">\n                                                                '.concat(this.answerChoices.join(","),"\n                                                                </p>"):"",'</p>\n                                    <p class="type">').concat(o[this.type],'</p>\n                                    <p class="typing type keyboard">').concat(this.typeAnswer?'<i class="material-icons">keyboard</i>':"","</p>\n                                </div>\n                            </div>")},c.prototype.isCorrectAnswer=function(){return(0,r.isEqualToCaseInsensitive)(this.answer,this.guess)},c.prototype.isMultipleChoice=function(){return"MC"===this.type||Array.isArray(this.answerChoices)},c.prototype.isValid=function(){return!((0,r.isEmpty)(this.title)||(0,r.isEmpty)(this.type)||(0,r.isEmpty)(this.question)||(0,r.isEmpty)(this.answer))},d.prototype.addCard=function(e){this.cards.push(e)},d.prototype.render=function(){var e='\n                <section class="cardset" data-cardset="'.concat(this.name,'" data-category="').concat(this.category,'">\n                    <ul class="collapsible">\n                        <li ').concat((0,a.startsCollapsed)()?"":'class="active"','>\n                    <div class="collapsible-header">\n                    <i class="material-icons">folder</i>').concat(this.name,'\n                    <a href="#/" class="faint-black home-hide-cardset"><i class="material-icons">arrow_drop_up</i></a>\n\n                    <div class="collapsible-items">\n                        <a href="#/" class="faint-black home-add-cardset"><i class="material-icons">add</i></a>\n                        <a href="#/" class="faint-black home-edit-cardset"><i class="material-icons">edit</i></a>\n                        <a href="#/" class="faint-black home-delete-cardset"><i class="material-icons">delete</i></a>\n                        <a href="#/" class="faint-black home-play-cardset"><i class="material-icons">play_arrow</i></a>\n                    </div>\n                        \n                  \n                </div>\n                <div class="collapsible-body">');return this.cards.forEach(function(t){return e+=(0,a.isCompactViewEnabled)()?t.renderCompact():t.render()}),0===this.cards.length&&(e+='<span class="center">No cards have been added yet, tap the <i class="material-icons">add</i> button to add a card!</span>'),e+="</div>\n                       </li>\n                    </ul>\n                </section>"},d.prototype.isValid=function(){return!(0,r.isEmpty)(this.name)&&!(0,r.isEmpty)(this.category)},l.prototype.save=function(e){(0,s.pAddHighscore)(this).then(e).catch(function(e){(0,i.showToast)(e,"")})},l.prototype.render=function(){var e="<tr>\n            <td>".concat(this.game.cardset.name,"</td>\n            <td>").concat(this.game.timeFinished,"</td>\n            <td>").concat(this.date.slice(0,-5)," ").concat(this.realTime.slice(0,-3),"</td>\n            <td></td>\n            <td></td>\n            <td></td>\n        </tr>");return this.game.cardset.cards.forEach(function(t){e+="<tr>\n                <td></td>\n                <td>".concat((0,r.isEqualToCaseInsensitive)(t.guess,t.answer)?'<i class="material-icons">check</i>':'<i class="material-icons">close</i>',"</td>\n                <td></td>\n                <td>").concat(t.title,"</td>\n                <td>").concat(t.guess,"</td>\n                <td>").concat(t.answer,"</td>\n            </tr>")}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(){e=(0,s.getSettings)(),e&&e.forEach(function(e){return $("input[name='".concat(e.name,"']")).prop("checked",e.value)}),$(".form-save-settings").on("submit",p),$(".btn-clear-highscores").on("click",u).next().on("click",d).next().on("click",c);var e},t.startsCollapsed=function(){return(0,s.getSettings)()&&(0,s.getSettings)().filter(function(e){return e.name===a.START_COLLAPSED}).length>0},t.isCompactViewEnabled=function(){return(0,s.getSettings)()&&(0,s.getSettings)().filter(function(e){return e.name===a.COMPACT_VIEW}).length>0};var r=n(1),i=n(2),s=n(0),a={START_COLLAPSED:"startCollapsed",COMPACT_VIEW:"compactViewEnabled"},o={DELETE_ALL_DATA:"Are you sure you wish to clear all data? This includes all highscore data and all card related data such as all cardsets and cards!",DELETE_HIGHSCORE_DATA:"Are you sure you wish to clear all highscore related data?",DELETE_CARD_DATA:"Are you sure you wish to clear all card related data? This includes all cardsets and cards in these cardsets"};function c(e){e.preventDefault();var t="<p>".concat(o.DELETE_ALL_DATA,"</p>");(0,r.generateModal)("clearAllDataModal",t,"Cancel","Confirm",f,i.fDefault)}function u(e){e.preventDefault();var t="<p>".concat(o.DELETE_HIGHSCORE_DATA,"</p>");(0,r.generateModal)("clearAllDataModal",t,"Cancel","Confirm",l,i.fDefault)}function d(e){e.preventDefault();var t="<p>".concat(o.DELETE_CARD_DATA,"</p>");(0,r.generateModal)("clearAllDataModal",t,"Cancel","Confirm",h,i.fDefault)}function l(e){e.preventDefault(),(0,s.setHighscoresArr)([]).then(function(){(0,r.showToast)("Successfully cleared all highscore data!","")}).catch(function(e){(0,r.showToast)("Failed to clear highscore data!","")})}function h(e){e.preventDefault(),(0,s.pSetCardsetMap)(new Map).then(function(){(0,r.showToast)("Successfully cleared all card data!","")}).catch(function(){(0,r.showToast)("Failed to clear card data!","")})}function f(e){e.preventDefault(),h(e),l(e)}function p(e){e.preventDefault(),(0,s.saveSettings)($(this).serializeArray())}},,,,,,,,,function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,o,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(s(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(i(n))for(o=Array.prototype.slice.call(arguments,1),a=(u=n.slice()).length,c=0;c<a;c++)u[c].apply(this,o);return!0},n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,s,a,o;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,s=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(o=a;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){s=o;break}if(s<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";var r,i,s;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}s=function(){function t(e,t,n){var r=void 0,i="";if(e.length>t)return e;for(r=0;r<t;r+=1)i+=String(n);return(i+e).slice(-i.length)}function r(){this.secondTenths=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0,this.toString=function(e,n,r){e=e||["hours","minutes","seconds"],n=n||":",r=r||2;var i=[],s=void 0;for(s=0;s<e.length;s+=1)void 0!==this[e[s]]&&("secondTenths"===e[s]?i.push(this[e[s]]):i.push(t(this[e[s]],r,"0")));return i.join(n)}}var i="undefined"!=typeof window?window.CustomEvent:void 0;"undefined"!=typeof window&&"function"!=typeof i&&((i=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=window.Event.prototype,window.CustomEvent=i);var s="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)},o=10,c=60,u=60,d=24,l=0,h=1,f=2,p=3,m=4,v="secondTenths",g="seconds",y="minutes",C="hours",w="days",A={secondTenths:100,seconds:1e3,minutes:6e4,hours:36e5,days:864e5},E={secondTenths:o,seconds:c,minutes:u,hours:d},S=void 0!==e&&e.exports?n(13):void 0;function _(){return"undefined"!=typeof document}function b(){return S}function T(e,t){return(e%t+t)%t}return function(){var e=new r,t=new r,n=void 0,i=_()?document.createElement("span"):b()?new S.EventEmitter:void 0,a=!1,D=!1,I=void 0,L=void 0,R=void 0,M={},O=void 0,F=void 0,x=void 0,$=void 0,k=void 0,G=void 0,H={detail:{timer:this}};function P(n,r){var i=t[r];return function(n,r){t[n]=r,e[n]=n===w?r:r>=0?T(r,E[n]):E[n]-T(r,E[n])}(r,z(n,A[r])),t[r]!==i}function N(){j(),function(){for(var n in e)e.hasOwnProperty(n)&&"number"==typeof e[n]&&(e[n]=0);for(var r in t)t.hasOwnProperty(r)&&"number"==typeof t[r]&&(t[r]=0)}()}function j(){clearInterval(n),n=void 0,a=!1,D=!1}function V(r){var i;te()?(k=U(),F=J(O.target)):function(n){var r;I="string"==typeof(n=n||{}).precision?n.precision:g,R="function"==typeof n.callback?n.callback:function(){},$=!0===n.countdown,L=!0===$?-1:1,"object"===s(n.startValues)&&(r=n.startValues,x=W(r),e.secondTenths=x[l],e.seconds=x[h],e.minutes=x[f],e.hours=x[p],e.days=x[m],t=Q(x,t)),k=U(),q(),"object"===s(n.target)?F=J(n.target):$&&(n.target={seconds:0},F=J(n.target)),M={precision:I,callback:R,countdown:"object"===(void 0===n?"undefined":s(n))&&!0===n.countdown,target:F,startValues:x},O=n}(r),i=A[I],K(Y(Date.now()))||(n=setInterval(B,i),a=!0,D=!1)}function U(){return Y(Date.now())-t.secondTenths*A[v]*L}function B(){var e=Y(Date.now());!function(e){e[v]&&Z("secondTenthsUpdated",H),e[g]&&Z("secondsUpdated",H),e[y]&&Z("minutesUpdated",H),e[C]&&Z("hoursUpdated",H),e[w]&&Z("daysUpdated",H)}(q()),R(H.detail.timer),K(e)&&(X(),Z("targetAchieved",H))}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y(Date.now()),t=L>0?e-k:k-e,n={};return n[v]=P(t,v),n[g]=P(t,g),n[y]=P(t,y),n[C]=P(t,C),n[w]=P(t,w),n}function Y(e){return Math.floor(e/A[I])*A[I]}function K(e){return F instanceof Array&&e>=G}function W(e){var t,n,r,i,a,v=void 0;if("object"===(void 0===e?"undefined":s(e)))if(e instanceof Array){if(5!==e.length)throw new Error("Array size not valid");v=e}else v=[e.secondTenths||0,e.seconds||0,e.minutes||0,e.hours||0,e.days||0];return t=v[l],n=v[h]+z(t,o),r=v[f]+z(n,c),i=v[p]+z(r,u),a=v[m]+z(i,d),v[l]=t%o,v[h]=n%c,v[f]=r%u,v[p]=i%d,v[m]=a,v}function z(e,t){var n=e/t;return n<0?Math.ceil(n):Math.floor(n)}function J(e){if(e){var t=Q(F=W(e));return G=k+t.secondTenths*A[v]*L,F}}function Q(e,t){var n=t||{};return n.days=e[m],n.hours=n.days*d+e[p],n.minutes=n.hours*u+e[f],n.seconds=n.minutes*c+e[h],n.secondTenths=n.seconds*o+e[[l]],n}function X(){N(),Z("stopped",H)}function Z(e,t){_()?i.dispatchEvent(new CustomEvent(e,t)):b()&&i.emit(e,t)}function ee(){return a}function te(){return D}void 0!==this&&(this.start=function(e){ee()||(V(e),Z("started",H))},this.pause=function(){j(),D=!0,Z("paused",H)},this.stop=X,this.reset=function(){N(),V(O),Z("reset",H)},this.isRunning=ee,this.isPaused=te,this.getTimeValues=function(){return e},this.getTotalTimeValues=function(){return t},this.getConfig=function(){return M},this.addEventListener=function(e,t){_()?i.addEventListener(e,t):b()&&i.on(e,t)},this.removeEventListener=function(e,t){_()?i.removeEventListener(e,t):b()&&i.removeListener(e,t)})}},"object"==a(t)&&void 0!==e?e.exports=s():void 0===(i="function"==typeof(r=s)?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(){(0,o.getCurrentGame)().then(function(e){return e}).then(function(e){(0,o.pGetCardset)(e).then(function(e){new function(e){this.game=e,this.game.reset(),u=this}(new s.Game(e)),(0,i.updateGameCardLayout)(u.game)})}),c.start(),c.addEventListener("secondsUpdated",function(e){$("#gameTimer").html(c.getTimeValues().toString())}),$(".btn-correct-sa").on("click",y(!0,null,"SA"),g),$(".btn-wrong-sa").on("click",y(!1,null,"SA"),g),$(".btn-true-tf").on("click",y(null,!0,"TF"),g),$(".btn-false-tf").on("click",y(null,!1,"TF"),g),$(".btn-game-flip-card").on("click",h),$(".btn-game-next").on("click",{prev:!1},l),$(".btn-game-prev").on("click",{prev:!0},l),$(".typeAnswerControls").on("submit",y(null,null,"SA"),g),$(".multipleChoiceControls").on("submit",y(null,null,"MC"),g)};var r,i=n(1),s=n(3),a=(r=n(14))&&r.__esModule?r:{default:r},o=n(0);var c=new a.default,u=null,d={HOME:"index.html",HIGHSCORES:"gameoverview.html"};function l(e){e.data.prev?u.game.prevCard():u.game.nextCard(),u.game.isFront=!0,(0,i.updateGameCardLayout)(u.game)}function h(e){u.game.isFront=!u.game.isFront,(0,i.updateGameCardLayout)(u.game)}function f(){return c.getTimeValues().toString()}function p(e){e.preventDefault();var t=new Date,n=t.toLocaleTimeString(),r=t.toLocaleDateString();new s.Highscore(u.game,f(),r,n).save(function(e){return window.location.href=d.HIGHSCORES})}function m(e){e.preventDefault(),window.location.href=d.HOME}function v(){var e;u.game.timeFinished=f(),c.stop(),e="<h5>Game Finished!</h5>\n                            <p>Current Game: ".concat(u.game.cardset.name,"</p>\n                            <ul>\n                                <li>Time: ").concat(u.game.timeFinished,"</li>\n                                <li>Correct: ").concat(u.game.getAmountCorrectAnswers(),"</li>\n                                <li>Wrong: ").concat(u.game.getAmountWrongAnswers(),"</li>\n                                <li>Accuracy: ").concat(u.game.getAnswerAccuracy(),"%</li>\n                            </ul>\n                            <p>Note: A detailed overview will be saved in the highscores!</p>"),(0,i.generateModal)("finishedGameModal",e,"Home","Save",p,m)}function g(e){var t;switch(e.preventDefault(),e.data.type){case"SA":var n=u.game.getCurrentCard().answer;t=e.data.correct?n:"Not ".concat(n),u.game.getCurrentCard().typeAnswer&&(t=$("#game-type-answer").val());break;case"TF":t=e.data.answer;break;case"MC":t=$.trim(u.game.getCurrentCard().answerChoices[$("input[name='radioAnswer']:checked").val()])}u.game.answer(t),(0,i.updateGameCardLayout)(u.game),u.game.isFinished()&&v()}function y(e,t,n){return{correct:e,type:n,answer:t}}},function(e,t,n){"use strict";var r=n(15),i=n(0);$(document).ready(function(){(0,i.init)(),(0,r.init)()})}]);